<h1 id="imglib2">ImgLib2</h1>

<p>ImgLib2 is a general-purpose, multidimensional image and data processing library.</p>

<p>It provides a unified API to work with discrete and continuous n-dimensional data.  This API is interface driven and therefore extensible at will.</p>

<p>ImgLib2 includes implementations of standard numeric and non-numeric data types (8-bit unsigned integer, 32-bit floating point, …) as well as a number of less typical data types (complex 64-bit floating point, 64-bit ARGB, base pairs, …).  Data values can be accessed directly or through on-the-fly converters or multi-variate functions.</p>

<p>For discrete data (images, n-dimensional arrays), ImgLib2 implements a variety of memory layouts, data generation, loading, and caching strategies, including data linearized into single primitive arrays, series of arrays, n-dimensional arrays of arrays (“cells”), stored in memory, generated or loaded from disk on demand, and cached in memory or on disk.  Coordinates and values can be accessed directly or through on-the-fly views that invert or permute axes, generate hyperslices or stack slices top higher dimensional datasets, collapse dimensions into vectors</p>

<p>For continuous data (functions, n-dimensional interpolants), ImgLib2 implements a variety of interpolators, geometric transformations, and generator functions.  Coordinates and values can be accessed directly or transformed on-the-fly.</p>

<p>Need a quick start?  Install OpenJDK and maven:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install openjdk-16-jdk maven
</code></pre></div></div>

<p>Then check out <a href="https://github.com/bigdataviewer/bigdataviewer-vistools">BigDataViewer vistools</a>:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/bigdataviewer/bigdataviewer-vistools.git
</code></pre></div></div>

<p>Then start JShell in the BigDataViewer vistools project directory:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd bigdataviewer-vistools
mvn compile com.github.johnpoth:jshell-maven-plugin:1.3:run
</code></pre></div></div>

<p>Then try out this code snippet:</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">bdv.util.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">net.imglib2.position.FunctionRealRandomAccessible</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">net.imglib2.type.numeric.integer.IntType</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">net.imglib2.util.Intervals</span><span class="o">;</span>

<span class="nc">BdvFunctions</span><span class="o">.</span><span class="na">show</span><span class="o">(</span><span class="k">new</span> <span class="nc">FunctionRealRandomAccessible</span><span class="o">&lt;</span><span class="nc">IntType</span><span class="o">&gt;(</span><span class="mi">2</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="kt">double</span> <span class="n">v</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="na">getDoublePosition</span><span class="o">(</span><span class="mi">0</span><span class="o">),</span> <span class="n">d</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="na">getDoublePosition</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
  <span class="k">for</span> <span class="o">(;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">64</span> <span class="o">&amp;&amp;</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="mi">4096</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="kt">double</span> <span class="n">e</span> <span class="o">=</span> <span class="n">c</span> <span class="o">*</span> <span class="n">c</span> <span class="o">-</span> <span class="n">d</span> <span class="o">*</span> <span class="n">d</span><span class="o">;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">c</span> <span class="o">*</span> <span class="n">d</span><span class="o">;</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">e</span> <span class="o">+</span> <span class="mf">0.2</span><span class="o">;</span>
    <span class="n">d</span> <span class="o">+=</span> <span class="mf">0.6</span><span class="o">;</span>
    <span class="n">v</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">(</span><span class="n">c</span> <span class="o">*</span> <span class="n">c</span> <span class="o">+</span> <span class="n">d</span> <span class="o">*</span> <span class="n">d</span><span class="o">);</span>
    <span class="o">++</span><span class="n">i</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="n">y</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
<span class="o">},</span> <span class="nl">IntType:</span><span class="o">:</span><span class="k">new</span><span class="o">),</span> <span class="nc">Intervals</span><span class="o">.</span><span class="na">createMinMax</span><span class="o">(-</span><span class="mi">1</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">),</span> <span class="s">""</span><span class="o">,</span> <span class="nc">BdvOptions</span><span class="o">.</span><span class="na">options</span><span class="o">().</span><span class="na">is2D</span><span class="o">()).</span><span class="na">setDisplayRange</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">64</span><span class="o">);</span>
</code></pre></div></div>

